## Trazo (**UNDER DEVELOPMENT**)

I have used UIKit, CoreGraphics, Metal (and a lot of patience) to implement this app.

### Architecture
I tried to used the chain of responsability pattern for the actions that the user makes with their fingers (draw, transform).
See `Worflows` in the app. There are types of workflows depending on the type of gesture that the user performed. Now, what is a wokflow? 
It's just a set of steps, each step does one single thing and each step has a reference to the state of the app.

*I'm working on chaging this architecture, I don't really like it tbh...*

### Drawing
The drawing pipeline (I can't really think of a better name for this) is the following:
1. Once we have the input touch, we traslate it relative to the center of the canvas.
2. We excecute the curve-fitting algorithm. See `CurveFittingStep`.
3. We draw a grayscale points on all of the positions generated by the last step.
4. Then, we colorize it using the selected color by the user.
5. We merge this to the layer texture.
6. We present the canvas.

### Transformations
For the transformations I use 4 by 4 matrices. Since the quad vertices of the canvas are the edges of the view, I don't have to worry, for now,
about the size of the canvas. All the transformations are passed as a uniform to the vertex shader. See `Shaders`, under the Metal folder.

### Curve Fitting
I use the Catmull-Rom Algorithm for this, but, truth be told, I found a really good implementation [here](https://qroph.github.io/2018/07/30/smooth-paths-using-catmull-rom-splines.html)


*Note: There are some types that I need to get rid of, such as: `DrawableTexture`, `Buffers`, and so on... but I'll do it eventually :)*

![photo](https://github.com/user-attachments/assets/84bd2521-a4a8-43c5-8de1-9461d70a5849)
